<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, viewport-fit=cover" />
  <title>ржХрж░рзНржгржлрзБрж▓рзА ржмрзНрж▓рж╛ржб рж╣рж╛ржм</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    :root { --brand: #e11d48; }
    body { 
      font-family: 'Hind Siliguri', sans-serif; 
      -webkit-tap-highlight-color: transparent;
      user-select: none;
    }
    
    .app-card { transition: transform 0.2s active; }
    .app-card:active { transform: scale(0.97); }

    .app-bar {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    #mobile-drawer {
      transition: transform 0.4s cubic-bezier(0.32, 0.72, 0, 1);
      border-radius: 32px 32px 0 0;
    }
    .drawer-open #mobile-drawer { transform: translateY(0); }
    .drawer-open .drawer-overlay { opacity: 1; pointer-events: auto; }

    @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
    .animate-marquee { display: inline-block; animation: marquee 15s linear infinite; }
  </style>
</head>

<body class="bg-[#F8F9FE] text-slate-900 pb-24">

  <div class="drawer-overlay fixed inset-0 bg-black/60 z-[60] opacity-0 pointer-events-none transition-opacity duration-300" onclick="toggleMenu()"></div>

  <div id="mobile-drawer" class="fixed bottom-0 left-0 right-0 z-[70] bg-white h-[60vh] transform translate-y-full shadow-2xl overflow-hidden">
    <div class="w-12 h-1.5 bg-slate-200 rounded-full mx-auto mt-4 mb-6"></div>
    <div class="px-6">
      <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
        <i data-lucide="layout-grid" class="text-rose-600"></i> ржЖрж░ржУ ржЕржкрж╢ржи
      </h3>
      <div class="grid grid-cols-2 gap-4">
        <a href="tel:01871536468" class="p-4 rounded-3xl bg-slate-50 flex flex-col items-center gap-2 border border-slate-100">
          <div class="w-12 h-12 rounded-2xl bg-orange-100 text-orange-600 flex items-center justify-center"><i data-lucide="phone"></i></div>
          <span class="font-bold text-sm">ржпрзЛржЧрж╛ржпрзЛржЧ</span>
        </a>
        <a href="#faq" onclick="toggleMenu()" class="p-4 rounded-3xl bg-slate-50 flex flex-col items-center gap-2 border border-slate-100">
          <div class="w-12 h-12 rounded-2xl bg-blue-100 text-blue-600 flex items-center justify-center"><i data-lucide="help-circle"></i></div>
          <span class="font-bold text-sm">ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛</span>
        </a>
      </div>
    </div>
  </div>

  <header class="sticky top-0 z-50 app-bar border-b border-slate-100 px-4 py-3">
    <div class="max-w-md mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-2xl bg-rose-600 flex items-center justify-center text-white shadow-lg shadow-rose-200">
          <i data-lucide="heart-pulse" class="w-6 h-6"></i>
        </div>
        <h1 class="font-bold text-lg tracking-tight">ржХрж░рзНржгржлрзБрж▓рзА <span class="text-rose-600">ржмрзНрж▓рж╛ржб рж╣рж╛ржм</span></h1>
      </div>
      <button onclick="toggleMenu()" class="p-2.5 rounded-2xl bg-slate-100 text-slate-600 active:scale-90 transition-transform">
        <i data-lucide="align-right"></i>
      </button>
    </div>
  </header>

  <div class="bg-rose-50 text-rose-600 py-2 border-b border-rose-100">
    <div class="animate-marquee whitespace-nowrap font-bold text-sm">
      ЁЯЪи ржЬрж░рзБрж░рж┐ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржХрж▓ ржХрж░рзБржи: рзжрззрзорзнрззрзлрзйрзмрзкрзмрзо &nbsp;&nbsp;&nbsp; ЁЯй╕ ржЖржкржирж╛рж░ рж░ржХрзНрждрзЗ ржмрж╛ржБржЪржмрзЗ ржкрзНрж░рж╛ржг
    </div>
  </div>

  <main class="max-w-md mx-auto px-4 mt-6">
    
    <section class="mb-8">
      <div class="bg-gradient-to-br from-rose-500 to-rose-600 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-rose-200 relative overflow-hidden">
        <div class="relative z-10">
          <h2 class="text-3xl font-black leading-tight mb-3">рж░ржХрзНржд ржжрж┐ржпрж╝рзЗ ржкрзНрж░рж╛ржг <br>ржмрж╛ржБржЪрж╛ржи ржЖржкржирж┐ржУ</h2>
          <p class="text-rose-100 text-sm font-medium mb-6">рж╕рж╣ржЬрзЗржЗ ржбрзЛржирж╛рж░ ржЦрзБржБржЬрзБржи ржЖржкржирж╛рж░ ржПрж▓рж╛ржХрж╛ржпрж╝</p>
          <div class="flex gap-3">
            <a href="donor_registration.html" class="px-6 py-3 bg-white text-rose-600 rounded-2xl font-bold text-sm shadow-xl">ржбрзЛржирж╛рж░ рж╣рзЛржи</a>
            <a href="#search" class="px-6 py-3 bg-rose-700/30 backdrop-blur-md text-white rounded-2xl font-bold text-sm">ржЦрзБржБржЬрзБржи</a>
          </div>
        </div>
        <i data-lucide="heart" class="absolute -right-6 -bottom-6 w-40 h-40 text-rose-400 opacity-20"></i>
      </div>
    </section>

    <section id="search" class="mb-8">
      <div class="bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100">
        <div class="flex items-center gap-3 mb-5">
          <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center"><i data-lucide="search" class="w-5 h-5"></i></div>
          <h3 class="font-bold text-lg">ржжрзНрж░рзБржд рж╕рж╛рж░рзНржЪ ржХрж░рзБржи</h3>
        </div>
        <form class="space-y-3">
          <select id="qGroup" class="w-full h-14 px-5 rounded-2xl bg-slate-50 border-none font-bold text-slate-700"></select>
          <div class="grid grid-cols-2 gap-3">
            <input placeholder="ржЬрзЗрж▓рж╛" class="h-14 px-5 rounded-2xl bg-slate-50 border-none text-sm font-medium" />
            <input placeholder="ржЙржкржЬрзЗрж▓рж╛" class="h-14 px-5 rounded-2xl bg-slate-50 border-none text-sm font-medium" />
          </div>
          <button class="w-full h-14 bg-slate-900 text-white rounded-2xl font-bold shadow-lg active:scale-[0.98] transition-all">рж╕рж╛рж░рзНржЪ рж░рзЗржЬрж╛рж▓рзНржЯ ржжрзЗржЦрзБржи</button>
        </form>
      </div>
    </section>

    <section class="mb-8">
      <h3 class="font-bold text-slate-500 text-sm mb-4 px-2 uppercase tracking-widest">рж▓рж╛ржЗржн ржкрж░рж┐рж╕ржВржЦрзНржпрж╛ржи</h3>
      <div id="liveStats" class="flex gap-3 overflow-x-auto no-scrollbar pb-2"></div>
    </section>

    <section class="mb-8">
      <div class="flex items-center justify-between mb-4 px-2">
        <h3 class="font-bold text-lg italic">ржбрзЛржирж╛рж░ <span class="text-rose-600">рждрж╛рж▓рж┐ржХрж╛</span></h3>
        <a href="all-donors.html" class="text-rose-600 text-sm font-bold">рж╕ржм ржжрзЗржЦрзБржи</a>
      </div>
      <div id="donorList" class="space-y-4"></div>
    </section>

    <section id="faq" class="mb-8">
      <h3 class="font-bold text-lg mb-4 px-2 italic">ржЬрзЗржирзЗ рж░рж╛ржЦрж╛ ржнрж╛рж▓рзЛ</h3>
      <div class="space-y-3">
        <details class="group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm">
          <summary class="list-none font-bold text-sm flex justify-between items-center">рзз. рж░ржХрзНрждржжрж╛ржи ржХрж┐ ржирж┐рж░рж╛ржкржж? <i data-lucide="chevron-down" class="w-4 h-4 text-rose-600"></i></summary>
          <p class="mt-3 text-xs text-slate-500 leading-relaxed">рж╣рзНржпрж╛ржБ, ржПржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржирж┐рж░рж╛ржкржж ржПржмржВ рж╕рзНржмрж╛рж╕рзНржерзНржпржХрж░ред ржПржХржЬржи рж╕рзБрж╕рзНрже ржорж╛ржирзБрж╖ ржкрзНрж░рждрж┐ рзк ржорж╛рж╕ ржЕржирзНрждрж░ рж░ржХрзНржд ржжрж┐рждрзЗ ржкрж╛рж░рзЗржиред</p>
        </details>
        <details class="group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm">
          <summary class="list-none font-bold text-sm flex justify-between items-center">рзи. рж░ржХрзНрждржжрж╛ржирзЗ ржХрж┐ ржЯрж╛ржХрж╛ рж▓рж╛ржЧрзЗ? <i data-lucide="chevron-down" class="w-4 h-4 text-rose-600"></i></summary>
          <p class="mt-3 text-xs text-slate-500 leading-relaxed">ржирж╛, ржПржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржлрзНрж░рж┐ ржПржмржВ ржорж╛ржиржмрж┐ржХ рж╕рзЗржмрж╛ред ржХрзЛржирзЛ ржЖрж░рзНржерж┐ржХ рж▓рзЗржиржжрзЗржи ржХрж░ржмрзЗржи ржирж╛ред</p>
        </details>
        <details class="group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm">
          <summary class="list-none font-bold text-sm flex justify-between items-center">рзй. рж░ржХрзНрждржжрж╛рждрж╛рж░ ржмрзЯрж╕ ржУ ржУржЬржи ржХржд рж╣ржУрзЯрж╛ ржкрзНрж░рзЯрзЛржЬржи? <i data-lucide="chevron-down" class="w-4 h-4 text-rose-600"></i></summary>
          <p class="mt-3 text-xs text-slate-500 leading-relaxed">ржмрзЯрж╕ рззрзо-рзмрзж ржПржмржВ ржУржЬржи рж╕рж░рзНржмржирж┐ржорзНржи рзлрзж ржХрзЗржЬрж┐ рж╣ржУрзЯрж╛ ржкрзНрж░рзЯрзЛржЬржиред</p>
        </details>
        <details class="group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm">
          <summary class="list-none font-bold text-sm flex justify-between items-center">рзк. ржмрзНрж▓рж╛ржб рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржХрж┐ржнрж╛ржмрзЗ ржжрж┐ржм? <i data-lucide="chevron-down" class="w-4 h-4 text-rose-600"></i></summary>
          <p class="mt-3 text-xs text-slate-500 leading-relaxed">ржирж┐ржЪрзЗрж░ ржорзЗржирзБ ржерзЗржХрзЗ 'рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ' ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржлрж░ржоржЯрж┐ ржкрзВрж░ржг ржХрж░рж▓рзЗржЗ рждрж╛ ржкрзЛрж╕рзНржЯ рж╣рзЯрзЗ ржпрж╛ржмрзЗред</p>
        </details>
        <details class="group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm">
          <summary class="list-none font-bold text-sm flex justify-between items-center">рзл. ржбрзЛржирж╛рж░ рж╣ржУрзЯрж╛рж░ рж╕рзБржмрж┐ржзрж╛ ржХрж┐? <i data-lucide="chevron-down" class="w-4 h-4 text-rose-600"></i></summary>
          <p class="mt-3 text-xs text-slate-500 leading-relaxed">рж░ржХрзНрждржжрж╛ржирзЗ рж╣рж╛рж░рзНржЯ ржЕрзНржпрж╛ржЯрж╛ржХрзЗрж░ ржЭрзБржБржХрж┐ ржХржорзЗ ржПржмржВ рж╢рж░рзАрж░рзЗ ржирждрзБржи рж░ржХрзНржд ржХрзЛрж╖ рждрзИрж░рж┐ рж╣рзЯред рж╕рж░рзНржмрзЛржкрж░рж┐ ржПржХржЬржирзЗрж░ ржЬрзАржмржи ржмрж╛ржБржЪрзЗред</p>
        </details>
      </div>
    </section>

  </main>

  <nav class="fixed bottom-0 left-0 right-0 z-[100] bg-white/80 backdrop-blur-xl border-t border-slate-100 px-6 py-3">
    <div class="max-w-md mx-auto flex justify-between items-center">
      <a href="#home" class="flex flex-col items-center gap-1 text-rose-600">
        <i data-lucide="home" class="w-6 h-6"></i>
        <span class="text-[10px] font-bold uppercase">рж╣рзЛржо</span>
      </a>
      
      <a href="all-donors.html" class="flex flex-col items-center gap-1 text-slate-400">
        <i data-lucide="users" class="w-6 h-6"></i>
        <span class="text-[10px] font-bold uppercase">ржбрзЛржирж╛рж░</span>
      </a>
      
      <a href="donor_registration.html" class="relative -mt-12 flex flex-col items-center">
        <div class="w-16 h-16 bg-rose-600 rounded-[22px] flex items-center justify-center text-white shadow-2xl shadow-rose-300 ring-8 ring-[#F8F9FE] active:scale-90 transition-transform">
          <i data-lucide="plus" class="w-8 h-8"></i>
        </div>
      </a>

      <a href="blood_requests.html" class="flex flex-col items-center gap-1 text-slate-400">
        <i data-lucide="clipboard-list" class="w-6 h-6"></i>
        <span class="text-[10px] font-bold uppercase">рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ</span>
      </a>

      <button onclick="toggleMenu()" class="flex flex-col items-center gap-1 text-slate-400">
        <i data-lucide="more-horizontal" class="w-6 h-6"></i>
        <span class="text-[10px] font-bold uppercase">ржЖрж░ржУ</span>
      </button>
    </div>
  </nav>

  <script>
    function toggleMenu() { document.body.classList.toggle('drawer-open'); }
    const DONOR_API = "https://script.google.com/macros/s/AKfycbyGguWgJdIpVgv0Sol7qF7gJOelhv-y47NoW6my1ZnlSjxHcj7ygwlMuDxffRezTW4wbA/exec?sheet=Donors";
    const BG = ["A+","A-","B+","B-","AB+","AB-","O+","O-"];

    async function loadData(){
      try {
        const res = await fetch(DONOR_API);
        const donors = await res.json();
        renderDonors(donors);
        renderStats(donors);
      } catch (e) { console.error("Error loading data"); }
    }

    function renderDonors(list){
      document.getElementById('donorList').innerHTML = list.slice(0, 5).map(d => `
        <div class="bg-white p-5 rounded-[1.8rem] border border-slate-100 flex items-center gap-4 shadow-sm app-card">
          <div class="w-14 h-14 rounded-2xl bg-rose-50 text-rose-600 flex flex-col items-center justify-center border border-rose-100">
            <span class="text-lg font-black leading-none">${d[1]}</span>
          </div>
          <div class="flex-1">
            <h4 class="font-bold text-slate-800 leading-tight">${d[0]}</h4>
            <p class="text-[11px] text-slate-500 font-medium mt-0.5">${d[2]} ┬╖ ${d[3]}</p>
          </div>
          <a href="tel:${d[4]}" class="w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center shadow-lg active:scale-90 transition-transform">
            <i data-lucide="phone" class="w-4 h-4"></i>
          </a>
        </div>`).join('');
      lucide.createIcons();
    }

    function renderStats(donors){
      const stats = BG.map(g => ({ g, n: donors.filter(d=>d[1]===g).length }));
      document.getElementById('liveStats').innerHTML = stats.filter(s=>s.n>0).map(s => `
        <div class="flex-shrink-0 min-w-[100px] p-4 rounded-[1.5rem] bg-white border border-slate-100 shadow-sm text-center">
          <div class="text-rose-600 font-black text-xl mb-1">${s.g}</div>
          <div class="text-[10px] font-bold text-slate-400 uppercase tracking-tighter">${s.n} ржбрзЛржирж╛рж░</div>
        </div>`).join('');
    }

    document.getElementById('qGroup').innerHTML = '<option value="">ржЧрзНрж░рзБржк ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>' + BG.map(g=>`<option value="${g}">${g}</option>`).join('');
    loadData();
    lucide.createIcons();
  </script>
</body>
</html>
